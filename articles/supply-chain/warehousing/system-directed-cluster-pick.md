---
# required metadata

title: System-directed cluster picking
description: This topic provides an overview of system-directed cluster picking in Microsoft Dynamics 365 Supply Chain Management.
author: Mirzaab
manager: tfehr
ms.date: 12/10/2019
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 

# optional metadata

ms.search.form: 
# ROBOTS: 
audience: Application User
# ms.devlang: 
ms.reviewer: kamaybac
ms.search.scope: Core, Operations, Supply Chain Management
# ms.tgt_pltfrm: 
ms.custom: 
ms.assetid: 
ms.search.region: Global
# ms.search.industry: 
ms.author: perlynne
ms.search.validFrom: 2019-12-31
ms.dyn365.ops.version: 10.0.1

---

# System-directed cluster picking

[!include [banner](../includes/banner.md)]

Cluster picking is a piece picking process that lets you pick items for multiple orders at the same time by clustering them into pick clusters. You then have to visit the pick location only one time. Typically, this functionality is used with small order picking or quantities that are less than case quantities.

When system-directed cluster picking is set up, you can cluster-pick work headers, based on a system-generated cluster. The system cluster-picks orders up to the number of positions that is specified in the cluster profile. Therefore, you can pick multiple orders at the same time without having to manually create a cluster.

System-directed cluster picking offers an alternative to manual cluster building, where a cluster profile is used to create a cluster. Several setup-related lines must be defined in the cluster profile before it's used:

- **Number of positions** corresponds to the number of orders that will be put on a cluster. Therefore, it corresponds to the number of totes.
- **Break cluster** determines when the cluster should be broken.
- **Generate cluster ID** controls whether the cluster ID will be generated by the system or entered by the user.
- **Sort verification type** determines whether position verification is required.

A new mobile device menu item is used for system-directed cluster picking. The cluster profile ID must be specified for the **Directed by** option. Additionally, the system-directed query order can group orders, based on company-specific criteria. Therefore, you can further optimize the assignment of work orders by specifying customized sorting criteria on the system-directed query order.

When system-directed cluster picking is done, warehouse workers are presented with a cluster where picking orders have been preassigned to cluster positions. Therefore, workers can start to pick an item for multiple work orders by visiting the pick location only one time. The picking process for system-directed cluster picking is the same as the process for user-directed cluster picking.

## Set up system-directed cluster picking

### Create cluster profiles

Cluster profiles control how the system creates each cluster. If different clusters are required, a different cluster profile should be created for each mobile device menu item.

1. Go to **Warehouse management \> Setup \> Mobile device \> Cluster profiles**.
2. Select **New**.
3. In the **Cluster profile ID** field, enter **2 Position**.
4. In the **Name** field, enter **2 Position**.
5. On the **General** FastTab, set the following fields:

    - **Generate cluster ID:** Set this option to **Yes**. This option determines whether the cluster ID is automatically created by the system, or whether the user will create it at the start of picking.
    - **Activate positions:** Set this option to **Yes**. This option determines whether the position names are automatically generated based on the position name setup. If this option is set to **No**, the license plate ID for the position is used.
    - **Number of positions:** Enter **2**. This field determines the maximum number of positions that the cluster can have (that is, the maximum number of boxes, totes, and so on).
    - **Position name:** Select **Numeric**, so that positions are named by using continuous numbers. If you select **Alphabetical**, the positions are named in alphabetical order.
    - **Break cluster at:** Select **Put**. This field determines when the cluster is broken.
    - **Sort verification type:** Select **Position scan**. This field determines whether the put-to-position step is verified.

6. On the **Cluster sorting** FastTab, you can define sorting criteria by creating a new line and setting the following fields:

    - **Sequence number:** This field determines the sequence that the system sorts by. A value is entered automatically, but you can change it as you require.
    - **Field name:** Select **WMSLocationId**. This field determines the field that the line uses for sorting criteria.
    - **Sorting:** Select **Ascending**. This field defines whether the sorting is done in ascending or descending order.

### Create a mobile device menu item

To create a new mobile device menu item for system-directed cluster picking and link the cluster profile ID to the mobile device menu item, follow these steps.

1. Go to **Warehouse management \> Setup \> Mobile device \> Mobile device menu items**.
2. Select **New**.
3. In the **Menu item name** field, enter **SD Cluster**.
4. In the **Title** field, enter **SD Cluster**.
5. In the **Mode** field, select **Work**.
6. Set the **Use existing work** option to **Yes**.
7. On the **General** FastTab, set the following fields:

    - **Directed by:** Select **System directed**.
    - **Generate license plate:** Set this option to **Yes**.
    - **Cluster profile ID:** Select **2 Position**.

8. On the **Work classes** FastTab, set up the valid work class for this mobile device menu item by setting the following fields:

    - **Work class ID:** Make sure that **Sales** is entered.
    - **Work order type:** Make sure that **Sales orders** is entered.

9. Follow these steps to specify a new system-directed work sequence query:

    1. Select **New**.
    2. In the **Sequence number** field, enter **1**.
    3. In the **Description** field, select **Work priority â€“ Work ID**.

10. On the menu, select **Edit query**.
11. On the **Sorting** tab, set the following fields:

    - **Table:** Select **Work**.
    - **Derived table:** Select **Work**.
    - **Field:** Select **Work priority**.
    - **Search direction:** Select **Ascending**.
    - **Table:** Select **Work**.
    - **Derived table:** Select **Work**.
    - **Field:** Select **Work ID**.
    - **Search direction:** Select **Ascending**.

The system will now sort work IDs in the cluster, first by work priority and then by work ID.

### Set up a mobile device menu

1. Go to **Warehouse management \> Setup \> Mobile device \> Mobile device menu**.
2. Add the menu item that you just created to the desired menu.

## Example

### Create picking work

Before you can set up system-directed cluster picking, you must create some eligible outbound work. The cluster profile that you created earlier specifies two cluster positions. Therefore, you must create at least two work IDs.

1. Go to **Sales and Marketing \> Sales orders \> All sales orders**.
2. Select **New** to create a sales order.
3. In the **Customer account** field, select any customer.
4. On the **General** FastTab, in the **Warehouse** field, select warehouse **62**.
5. Select **OK**.
6. On the **Sales order lines** FastTab, select **Add line**.
7. In the **Item number** field, select **A0001**.
8. In the **Quantity** field, enter **1**.
9. Select **Add line** to add a second line.
10. In the **Item number** field, select **A0002**.
11. In the **Quantity** field, enter **3**.
12. Repeat steps 2 through 6.
13. In the **Item number** field, select **A0001**.
14. In the **Quantity** field, enter **4**.
15. Select **Add line** to add a second line.
16. In the **Item number** field, select **A0002**.
17. In the **Quantity** field, enter **2**.

Reserve the inventory, and release it to the warehouse. Two different work IDs are created. Each work ID has two pick lines.

### Run the mobile device flow

1. On the mobile device, select the menu that includes the new mobile device menu item.
2. Select the **SD Cluster** menu item, and initiate the pick. A cluster is created, and the two work IDs that you created earlier are attached to it. If you created more than two work IDs, only the first two are added to the cluster. Notice that the work IDs are added to the cluster in ascending order, as you specified in the query setup.

    > [!NOTE]
    > The new cluster is automatically created only if enough additional work IDs were previously created. Otherwise, the following message is shown: "Not enough work can be found for cluster."

    After you select the menu, the first pick screen appears. The system aggregates all matching pick lines from the two work IDs and directs you to visit the pick location one time, so that you can satisfy both orders by using one pick. This process is done in the same way as process for user-directed cluster picking.

3. Confirm the first pick. You must then enter the position name to confirm that the items were put to the correct position.
4. Repeat this process until all items have been picked and put to the correct position.
5. The last step on the mobile device is to put the cluster to the final location. When this put operation is confirmed, the cluster is closed and broken, based on the value that you set for the **Break cluster at** field in the cluster profile. Work IDs are also closed.
6. A "Cluster complete" message is shown on the mobile device.
