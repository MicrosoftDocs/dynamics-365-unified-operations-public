---
title: Differences between Planning Optimization and the deprecated master planning engine
description: Learn about features that Planning Optimization doesn't yet support and that aren't listed on the Planning Optimization fit analysis page.
author: t-benebo
ms.author: benebotg
ms.reviewer: kamaybac
ms.search.form:
ms.topic: overview
ms.date: 12/06/2024
ms.custom: 
  - bap-template
---

# Differences between Planning Optimization and the deprecated master planning engine

[!include [banner](../../includes/banner.md)]

Planning Optimization results (including planned orders, quantities, and dates) might differ from results from the deprecated master planning engine. The differences can be caused by pending features. This article lists differences between Planning Optimization and the deprecated master planning engine that aren't listed on the **[Planning Optimization fit analysis](planning-optimization-fit-analysis.md)** page.

| Feature | How Planning Optimization differs from deprecated master planning |
|---|---|
| Forecasts for today's date | Planning Optimization doesn't consider forecasts for today's date, though they were considered by the deprecated master planning engine. |
| Filtered production runs | For details, see [Production planning - Filters](production-planning.md#filters). |
| Forecast planning | Forecast planning isn't supported. We recommend that you use master planning where a forecast model is assigned to the master plan. |
| Number sequences for planned orders | Number sequences for planned orders aren't supported. Planned order numbers are generated on the service side. The planned order number is normally shown with 10 digits, but the sequence is actually built on 20 characters, with 10 digits allocated for the planning run count and the other 10 digits for the planned orders count. |
| Plan copy, plan delete, and plan version cleanup | <p>The following items are disabled under **Master planning \> Master planning \> Maintain plans** in the navigation pane:</p><ul><li>Plan copy</li><li>Delete plan</li><li>Plan version cleanup</li></ul> Plan version cleanup is automatic with Planning Optimization, so you don't need to do it manually. |
| Return orders | Return orders aren't considered. |
| Scheduling related features | For details, see [Scheduling with infinite capacity](infinite-capacity-planning.md#limitations). |
| Safety stock fulfillment | Planning Optimization always uses the *Today's date + procurement time* option for the **Fulfill minimum** field on the **Item coverage** page. This helps to prevent unwanted planned orders and other issues because if the procurement time isn't included for safety stock, planned orders that are created for low on-hand inventory would always be delayed because of the lead time. Learn more in [Safety stock fulfillment with the deprecated master planning engine](../safety-stock-replenishment-in-deprecated-engine.md). |
| Safety stock pegging and net requirements | The *Safety stock* requirement type isn't included and isn't displayed on the **Net requirements** page. Safety stock doesn't represent demand and doesn't have a requirement date associated with it. Instead, it sets a constraint on how much inventory must be present at all times. However, the **Minimum** field value is still taken into account when calculating planned orders during master planning. We suggest that you inspect the **Accumulated quantity** column on the **Net requirements** page to see that this value was considered. Because the pegging is different, different actions may be suggested. Learn more in [Safety stock fulfillment with the deprecated master planning engine](../safety-stock-replenishment-in-deprecated-engine.md). |
| Transport calendars | The value in the **Transport calendar** column on the **Modes of delivery** page is ignored. |
| Min/max coverage code with no values| With the deprecated master planning engine, when you use a min/max coverage code where no minimum or maximum values are set, the planning engine treats the coverage code as a requirement and creates one order for each requirement. With Planning Optimization, the system creates one order per day to cover the full amount for that day.  |
| Net requirements and manually created planned orders | With the deprecated master planning engine, manually created supply orders for an item automatically appear among the net requirements for that item. For example, when creating a purchase order from a sales order, the purchase order appears on the **Net requirements** page without requiring any prior actions. This is because the deprecated master planning engine logs inventory transactions in the `inventLogTTS` table and shows changes on the **Net requirements** page for dynamic plans. However, with Planning Optimization, manually created orders won't appear among the net requirements of an item until Planning Optimization is run (using a plan that includes the item), or until you select **Update \> Master planning** on the Action Pane on the **Net requirements** page, which will run master planning for the item. For more information about how to work with the **Net requirements** page, see [Net requirements and pegging information](net-requirements.md). |
| Net requirements and any changes to supply or demand | With the deprecated master planning engine, any changes to supply or demand for an item automatically appear among the net requirements for that item. For example, when increasing the quantity of a planned order, the purchase order appears on the **Net requirements** page without requiring any prior actions. This is because the deprecated master planning engine logs inventory transactions in the `inventLogTTS` table and shows changes on the **Net requirements** page for dynamic plans. However, with Planning Optimization, any changes won't appear among the net requirements of an item until Planning Optimization is run (using a plan that includes the item), or until you select **Update \> Master planning** on the Action Pane on the **Net requirements** page, which will run master planning for the item. For more information about how to work with the **Net requirements** page, see [Net requirements and pegging information](net-requirements.md). |
| Resource assignment | When working with infinite capacity, the deprecated master planning engine assigns all planned orders to the same resource on a given resource group. Planning Optimization improves on this by selecting resources at random so different production orders can use different resources. If you want to use the same resource for all planned orders, then you must specify that resource in the route. |
| Extended data types (EDTs) | Planning Optimization doesn't support changes to the precision of EDTs. This means this process isn't officially supported and isn't guaranteed to work. |
| Safety stock fulfillment | Planning Optimization always uses a **Fulfill minimum** of *Today's date + procurement time*. This prepares the system to use a simplified planning setup in the future, and provides an actionable result. If the procurement time isn't included for safety stock, planned orders that are created for low on-hand inventory will always be delayed because of the lead time. This behavior can cause significant noise and unwanted planned orders. The best practice is to change the setting to use *Today's date + procurement time*. Update master data to avoid warnings. Learn more in [Safety stock fulfillment with the deprecated master planning engine](../safety-stock-replenishment-in-deprecated-engine.md). |
| Purchase order fulfillment | When fulfilling a purchase order, the system always applies a lead time and never disregards it, even if the **Add delay to calculated requirement date** parameter is set to *No*. This behavior is different from that of the deprecated master planning engine, which would set an unfeasible date in this case. For example, if today is March 1, 2024, lead time is 30 days, and **Add delay to calculated requirement date** is set to *No*, the deprecated engine would create a purchase order with date March 1, 2024, while Planning Optimization would create it with date April 1, 2024 (today plus the 30-day lead time). |
| Copy static to dynamic plan | Planning Optimization doesn't copy static plans to dynamic plans, regardless of the setting on the **Master planning parameters** page. In general, this operation is less relevant because of the speed and complete regeneration that Planning Optimization provides. If two or more plans are used, master planning should be triggered for each plan. |
| Negative days | Planning Optimization always uses dynamic negative days, regardless of the setting of **Use dynamic negative days** on the **Master planning parameters**. The **Use dynamic negative days** setting on the **Master planning parameters** page has no effect on this behavior. For more information on negative days, see [Delay tolerance (negative days)](delay-tolerance.md) |
| Planned orders in the past | Planning Optimization never plans orders in the past, regardless of the **Requested date** setting. If you do set a **Requested date** that's in the past, the system will keep your setting, but will set the **Required date** to *Today*. |
| Definition/meaning of safety stock | <p>In Planning Optimization, [safety stock](../safety-stock-replenishment.md) isn't actual demand. For each coverage group, you can specify how strictly the system should peg safety stock as demand against the planned order that's created for it. (Learn more in [Safety stock pegging options](../safety-stock-pegging.md).) Coverage groups that use strict safety stock pegging work just like all groups in the deprecated engine where the **Fulfill minimum** field is set to *Today's date + procurement time*.</p><p>In the deprecated master planning engine, safety stock is demand, the same as other demand types. You can specify when safety stock will be fulfilled.</p> |
| When safety stock is fulfilled | <p>In Planning Optimization, safety stock is always fulfilled on *today's date* + *procurement time*, regardless of the item coverage setting.</p><p>In the deprecated master planning engine, item coverage settings include a **Fulfill minimum** field that defines when the safety stock must be fulfilled. (Learn more in [Safety stock fulfillment with the deprecated master planning engine](../safety-stock-replenishment-in-deprecated-engine.md).) |
| Forecast plan time fence | When deciding which demand and supply forecast entries to take into consideration, Planning Optimization always takes the lower of the following two values: *coverage time fence* or *forecast plan time fence*.  The deprecated planning engine always uses the *forecast plan time fence*. Planning Optimization therefore guarantees that all demand forecast entries that are included in a plan will be covered with the supply. |
| Issue margin | When the issue margin can be met, Planning Optimization applies its value to the *receipt requirement date*, not the *issue requirement date*; if the margin can't be met, Planning Optimization pushes the issue requirement date forward. The deprecated planning engine always adjusts the *issue requirement date* by the value of the issue margin. Planning Optimization therefore treats the issue margin more correctly, as a shipping-time buffer that affects how far in advance receipt is required. Learn more in [Safety margins](safety-margins.md). |
| Vendor calendar lead time | Planning Optimization doesn't consider closed days from the vendor's calendar when calculating lead times for delivery dates. It only considers the coverage group calendar when calculating lead times. Learn more in [Calendar matrix for Planning Optimization](safety-margins.md#calendar-setup-overview-matrix). |

## Related information

- [Planning Optimization fit analysis](planning-optimization-fit-analysis.md)
- [Parameters not used by Planning Optimization](not-used-parameters.md)
- [Date and time parameters used by Planning Optimization](date-time-used.md)

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
