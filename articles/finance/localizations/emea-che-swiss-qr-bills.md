---
title: Swiss QR-bills
description: This article provides information about how to generate QR-bills (QR-slips) and process incoming QR-bills.
author: AdamTrukawka
ms.date: 03/25/2020
ms.topic: article
ms.prod: 
ms.technology: 
audience: Application User
ms.reviewer: kfend
ms.search.region: Switzerland
ms.author: atrukawk
ms.search.validFrom: 2020-06-01
ms.dyn365.ops.version: 10.0.9
ms.search.form: 
---

# Swiss QR-bills

[!include [banner](../includes/banner.md)]


As of July 2020, QR-bills (QR-slips) will have to be processed and issued in addition to invoices. This article explains how to generate QR-bills and process incoming QR-bills in Microsoft Dynamics 365 Finance.

To make the QR-bill functionality available, you must turn on the following features in the **Feature management** module:

- Configurable payment ID
- (Switzerland) QR-bills

> [!NOTE]
> When you turn on the Swiss QR-bill functionality, it also becomes available to other countries/regions. Depending on the address of the legal entity, those countries/regions include Switzerland (CH), Germany (DE), Austria (AT), France (FR), and Italy (IT).

## Electronic reporting configurations

The most recent versions of the following Electronic reporting (ER) configurations should be imported from Microsoft Dynamics Lifecycle Services (LCS):

- Swiss QR-Bill text
- Swiss QR-Bill Structured information
- ISO20022 Credit transfer (CH)
- ISO20022 pain.002
- ISO20022 Camt.054

All required model and model mapping configurations will be imported automatically.

## Setup of company bank accounts

On the **Bank account** page (**Cash and bank management** \> **Bank accounts** \> **Bank accounts**), in the **QR-IBAN** field, specify the QR-IBAN. This number can be used simultaneously with the ordinary International Bank Account Number (IBAN) and has similar validations in the system.

### Cash discount and tax code descriptions

The field for the QR-bill description should be filled in for all cash discounts and tax codes. This description is used when QR-bills are printed.

## Setup of the legal entity registration IDs

For the unique identifier (UID) to be correctly filled in on the QR-bill that is generated, the UID value should be entered in the **Registration ID** field in the legal entity setup. Additionally, the value in the **Registration category** field should correspond to the **VAT ID** value.

## Accounts receivable setup

### Payment ID

On the **Payment ID** page, you can configure the payment ID structure that is applied when outgoing QR-bills are generated from the **Accounts receivable** module. The length of the payment ID should be set to 27 digits, and the check digit should be generated by using the **Modulo11** algorithm. Non-digit symbols are excluded from payment IDs when the algorithm is run. Therefore, the number sequences that are used for customer accounts and invoices should have only digits.

By default, the payment ID type that is applied on the invoice can use the following level hierarchy:

- **Accounts receivable parameters** page \> **Ledger and sales tax** tab
- **Customer groups** page
- **Customer account** page \> **Payment defaults** tab
- **Method of payment** page \> **Payment control** tab

### Methods of payment – Customers

The method of payment should be set up on the customer accounts that use QR-bills, to define the details of the company bank account that a QR-bill is issued to. To process incoming payments in camt.054 format, you should set up the ER import configuration.

### Customer account

The default method of payment must be selected, and the payment ID type must be filled in if it isn't already specified in the default setup for customer groups on the **Accounts receivable parameters** page.

In the **Associated payment attachment** field group, the new type, **QR-bill**, is added. When it's selected, the QR-bill will be printed when the document of the dedicated type is printed.

### Giro report processing group

The settings information that is provided in the Giro report processing groups determines how the **Billing information** section on a QR-bill is filled in. As required, you can configure and use different parts of this section on the QR-bill in ER. Here are some examples:

- **Account code** – The specific format that is dedicated to the specific customer account.
- **Customer relation** – The value of the specific customer account or customer group.
- **QR-Bill information** – The ER format configuration that is responsible for filling in the billing information.
- **Print scissors symbol** – The inclusion of the scissors symbol on the printed report. Inclusion of this symbol could be important when you're choosing whether to send a printed version of the QR-bill or an electronic version.

## Accounts payable setup

### Methods of payment – Vendors

For vendor methods of payment, you must specify the associated bank account, select the required ER configurations for the export and import for payment file processing, and set up payment specification. A new payment specification parameter value, **Tp3.QR**, is available for payments that correspond to the incoming QR-bills. Additionally, an option that is available on the vendor bank account can be used to redefine the **Specification** parameter.

The payment ID should be activated on the **Payment attributes** tab, so that the payment ID can be inherited during the payment proposal for payments associated with QR-bills.

### Return format error codes and return format status mapping

If pain.002 will be used as a return file format, the return format error codes and return format status mapping must be set up. For more information, see [Import ISO20022 files](emea-iso20022-file-formats.md).

### Vendor account

Standard setup of the vendor account for ISO20022 payments is expected. For more information, see [Set up vendors and vendor bank accounts for ISO20022 credit transfers](tasks/set-up-vendor-iso20022-credit-transfers.md).

### Vendor bank account

A QR-IBAN must be assigned to vendor bank accounts. It's expected that other fields will be set according to the typical payment procedure for payment type 3 in Switzerland.

Additionally, there is an option to select a payment specification parameter directly on the vendor bank account. If a payment specification has been made, the value is given a higher priority than the method of payment specification when a credit transfer file is generated.

## Accounts receivable process

### Generate the QR-bills

To generate the QR-bill for a document, such as a customer invoice, print the document. The QR-bill will automatically be generated as an additional report. You can then export the QR-bill as a PDF file, and then print it or send it electronically.

Here are some of the documents that support this functionality:

- Sales order invoices
- Free text invoices
- Project invoices
- Interest notes
- Collection letters
- Account statements

### Import payments in camt.054 format

To import a bank statement in camt.054 format from the bank, open the customer payment journal line, and run the **Import payment** function. The 27-digit reference is expected in the **Ref** tag in the file's **RmtInf** section. After the import, the payment transactions will be created and settled with customer transactions based on the payment ID. For more information, see [Import ISO20022 files](emea-iso20022-file-formats.md).

## Accounts payable process

The scope of supported functionality covers the process of manually importing the QR code values into the input dialog box. This import can be done by using scanning devices that transmit the text value of the QR code. The structure of the information in the QR code should follow the standards that are available on the SIX group website at the moment of the feature release. Any derivation from the structure of the information that is encrypted in the QR code, or any format changes that are required to follow the device-specific behavior, can be configured by using the **Electronic reporting** (ER) module. No code modifications are required.

### Import QR-bills

You can import the QR-bills into the invoice journal or pending vendor invoice destinations.

To import QR-bills into the invoice journal, run the **Import QR-Bill** function that is available on the **Invoice journal lines** page.

In the **Importing** dialog box, the **QR bill** field shows the name of the ER format configuration that will be used. You can specify a different ER format. In the plain text of the **QR-Bill** field, enter the QR code value. Then select **OK**.

On the next page, the **QR-Bill** tab shows the parsed values of the QR-bill. On the **General** tab, you can view the values of the recognized vendor, bank account, amount, and other details that will be imported into the system. After you select **OK**, the invoice journal lines are created. If this QR-bill was previously imported, you're notified through a warning message. The information of the imported QR-bill is stored and available for review on the **Imported QR bills** page.

For invoices that are associated with purchase orders, you can create pending vendor invoice headers that are based on QR-bill information. To import the QR-bill, on the **Pending vendor invoices** page, on the **Process** tab, select **Import QR-bill**. The procedure for adding, reviewing, and importing the QR code resembles the procedure that is described in the previous paragraph.

You can also import the QR-bill when the vendor invoice is opened from the **Purchase order** page. The import procedure is the same as the procedure for pending vendor invoices. If the invoice is associated with a purchase order, the import occurs automatically.

To process the QR-bill when there is no predefined destination, or to use a custom destination, you can use a special option that is available under **Periodic tasks** in the **Accounts payable** module. In this case, you must manually select the destination.

When the plain text of the QR-bill is left blank, you can run the import from the text file that is located in the SharePoint folder, based on the setup of the ER source.

After the invoice is posted, the vendor transaction that has the imported payment ID is available for settlement in the payment journal.

## Payment file processing

Create vendor payment journal lines by using the payment proposal functionality. For more information, see [Create and export vendor payments using ISO20022 payment format](tasks/create-export-vendor-payments-iso20022-payment-format.md).

For payments that are related to QR-bills, the credit transfer file is generated based on the payment ID value. This value is retrieved from the QR code.

You can import the pain.002 and camt.054 files from the **Payment transfers** page. For more information, see [Import ISO20022 files](emea-iso20022-file-formats.md).


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
