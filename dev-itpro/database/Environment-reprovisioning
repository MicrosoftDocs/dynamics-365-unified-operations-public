When copying a database between environments, you will need to run environment re-provisioning tool before the copied database is fully functional after being copied.
You can learn more about how to copy a database from an [Azure SQL database to SQl Server database](copy-database-from-azure-sql-to-sql-server) or from [SQL Server database to Azure SQL database](copy-database-from-sql-server-to-azure-sql).

Before you continue, you must make sure that the following prerequisites are met:
If your target enviornment is running the July 2017 release or later, you must first apply KB 4035399 in your target environment.
KB 4035399
If your target environment is running the November release (version 1611), you must apply the following hotfixes in your target enviornment:

 -   KB 4025631
 -   KB 4035355
 -   KB 4035492

Before you continue, you must make sure that the following prerequisites are met:

1. If your target enviornment is running the July 2017 release or later, you must first apply KB 4035399 in your target environment.
2. If your target environment is running the November release (version 1611), you must apply apply the following hotfixes in your target environment: 

 -   KB 4025631
 -   KB 4035355
 -   KB 4035492
 -   KB 4010947

3. The default channel database and the default channel data group must be named **Default**. If you've renamed them, you must change the names back.

Follow these steps to run the Environment reprovisioning tool.

1. In the Shared asset library, select **Software deployable package**.
2. Download the Environment reprovisioning tool.
3. In the asset library for your project, select **Software deployable package**.
4. Select **New** to create a new package.
5. Enter aÂ name and description for the package. You can use **Environment reprovisioning tool** as the package name.
6. Upload the package that you downloaded earlier.
7. On the **Environment details** page for your target environment, select **Maintain** > **Apply updates**.
8. Select the Environment reprovisioning tool that you uploaded earlier, and then select **Apply** to apply the package.
9. Monitor the progress of the package deployment. 

For more information about how to apply a deployable package, see [Apply a deployable package](../deployment/create-apply-deployable-package.md). For more information about how to manually apply a deployable package, see [Install a deployable package](../deployment/install-deployable-package.md).
